# Тема 1.1. Установка ОС «Альт» и базовая настройка

## Объем
2 часа

## Введение

Установка операционной системы (ОС) является одним из фундаментальных навыков системного администратора. ОС «Альт» — это семейство дистрибутивов Linux, разработанных российской компанией «Базальт СПО» (ранее ALT Linux Team), предназначенных для различных задач: от рабочих станций до серверов и образовательных систем.

Для человека, который никогда не устанавливал ОС, особенно Linux, процесс может показаться сложным, но он состоит из последовательных шагов, каждый из которых можно освоить. В этой лекции мы подробно разберем весь процесс установки ОС «Альт» от подготовки до базовой настройки после установки. На лекции преподаватель кратко объяснит ключевые моменты, а дома вы сможете изучить детали в этом материале.

Установка ОС подразумевает полную перезапись данных на жестком диске, поэтому важно сделать резервную копию важных файлов перед началом. Процесс включает выбор дистрибутива, подготовку установочного носителя, настройку параметров установки, разметку диска и установку системы.

После установки ОС нужно выполнить базовую настройку: обновить систему, настроить сеть, создать пользователей и т.д. Особое внимание уделим установке в UEFI-режиме, который становится стандартом на современных компьютерах.

К концу лекции вы сможете самостоятельно установить ОС «Альт» и выполнить начальную настройку.

## Подготовка к установке ОС «Альт»

Прежде чем приступать к установке ОС, необходимо тщательно подготовиться. Это поможет избежать ошибок и потери данных. Давайте разберем все шаги подготовки подробно.

### Требования к аппаратному обеспечению

ОС «Альт» работает на большинстве современных компьютеров, но есть минимальные и рекомендуемые требования. Если ваш компьютер не соответствует минимальным требованиям, установка может завершиться неудачей или система будет работать очень медленно.

**Минимальные требования:**
- Процессор: 64-битный (x86_64), частота не менее 1 ГГц (например, Intel Core 2 Duo или аналогичный AMD).
- Оперативная память (RAM): 1 ГБ для рабочей станции, 512 МБ для сервера (но рекомендуется больше для комфортной работы).
- Жесткий диск: 5 ГБ свободного места для минимальной установки (рекомендуется 20 ГБ и более).
- USB-порт: Для загрузки с флешки (рекомендуется USB 2.0 или 3.0).
- Видеокарта: Поддержка VGA или выше, разрешение не менее 800x600.
- Сеть: Ethernet или Wi-Fi для загрузки обновлений.

**Рекомендуемые требования для комфортной работы:**
- Процессор: 2 ГГц и выше, многоядерный.
- RAM: 4 ГБ для рабочей станции, 2 ГБ для сервера.
- Диск: SSD на 50 ГБ и более.
- Монитор: 1920x1080 и выше.

**Как проверить совместимость:**
1. Откройте «Свойства системы» в Windows (Win + Pause) или используйте команду `lscpu` в Linux/Mac.
2. Проверьте модель процессора на сайте производителя (Intel или AMD).
3. Измерьте объем RAM в диспетчере задач или с помощью `free -h` в терминале.
4. Для диска используйте «Этот компьютер» в Windows или `df -h` в Linux.

Если ваш компьютер старый, рассмотрите виртуальную машину (VirtualBox, VMware) для тестирования установки без риска для основных данных.

### Резервное копирование данных

Установка ОС перезапишет весь диск, поэтому все данные будут потеряны. **Обязательно сделайте резервную копию!**

**Шаги для резервного копирования:**
1. Определите, какие данные важны: документы, фото, видео, настройки программ.
2. Выберите носитель: внешний жесткий диск (HDD/SSD), USB-флешка, облако (Google Drive, Yandex.Диск).
3. В Windows: Используйте встроенное «Резервное копирование и восстановление» или программы вроде Acronis True Image.
4. В Linux/Mac: Команда `rsync` или графические программы вроде Déjà Dup.
5. Проверьте копию: Убедитесь, что файлы копируются правильно и доступны.

**Предупреждение:** Не копируйте данные на тот же диск, где будет устанавливаться ОС. Используйте отдельный носитель.

### Настройка BIOS/UEFI

Для загрузки с USB-флешки нужно изменить порядок загрузки в BIOS/UEFI.

**Как войти в BIOS/UEFI:**
- Перезагрузите компьютер и нажмите клавишу (обычно Del, F2, F10, Esc — зависит от производителя: ASUS — Del, HP — F10, Lenovo — F1).
- На экране загрузки ищите подсказку вроде "Press [key] to enter setup".

**Изменение порядка загрузки:**
1. В BIOS найдите раздел "Boot" или "Boot Order".
2. Переместите USB-накопитель на первое место (используйте F5/F6 или стрелки).
3. Сохраните изменения (F10) и выйдите (обычно "Save and Exit").

**Для UEFI-систем:** Аналогично, но интерфейс может быть графическим. Ищите "Boot Manager" или "UEFI Settings".

Если Secure Boot включен, может потребоваться отключить его для установки Linux (мы разберем это в разделе по UEFI).

## Где взять дистрибутивы ОС «Альт»

Дистрибутивы ОС «Альт» — это готовые образы системы в виде ISO-файлов, которые можно скачать и записать на носитель.

### Официальные источники

**Основной сайт: https://www.altlinux.org/**
- Раздел "Скачать" (Download).
- Доступны все версии: Alt Workstation, Alt Server и т.д.
- Файлы в формате ISO (обычно 2-4 ГБ).
- Версии: текущая стабильная (p10), LTS (долгосрочная поддержка).

**Официальный репозиторий пакетов: https://packages.altlinux.org/**
- Для скачивания отдельных пакетов, но для полной установки используйте ISO.

**Зеркала (mirrors):**
- Если основной сайт медленный, используйте зеркала: ftp.altlinux.org, mirror.yandex.ru/altlinux и др.
- Список зеркал: https://www.altlinux.org/Mirrors

### Способы загрузки

1. **Через браузер:** Перейдите на сайт, выберите дистрибутив, нажмите "Скачать".
2. **Через торрент:** Для больших файлов быстрее, ссылки на .torrent на сайте.
3. **Через менеджер загрузок:** wget или curl в Linux: `wget https://www.altlinux.org/download/iso/...`

### Проверка целостности

После загрузки проверьте файл на повреждения с помощью контрольных сумм (MD5 или SHA256).

**Как проверить:**
1. Скачайте файл суммы: рядом с ISO будет .md5 или .sha256.
2. В Windows: Используйте программу вроде HashCalc.
3. В Linux: Команда `md5sum файл.iso` и сравните с значением в файле.
4. Если суммы не совпадают, файл поврежден — скачайте заново.

**Почему важно:** Поврежденный ISO приведет к ошибкам установки.

## Выбор дистрибутива

ОС «Альт» имеет несколько дистрибутивов для разных задач. Выбор зависит от назначения системы.

### Основные дистрибутивы

**Alt Workstation:**
- Для рабочих станций и домашнего использования.
- Графический интерфейс: KDE или GNOME.
- Предустановлено: офисные программы (LibreOffice), браузеры (Firefox), мультимедиа.
- Рекомендуется для новичков.
- Размер ISO: около 3 ГБ.

**Alt Server:**
- Для серверов: веб-серверы, базы данных, сетевые службы.
- Минимальный интерфейс, ориентирован на консоль.
- Компоненты: Apache, MySQL, Samba, SSH.
- Нет графического интерфейса по умолчанию (можно установить).
- Размер ISO: около 1 ГБ.

**Alt Education:**
- Для образовательных учреждений.
- Включает программы для обучения: образовательное ПО, среды разработки.
- Графический интерфейс: MATE или XFCE (легкий).

**Alt SP (Special Purpose):**
- Специализированные: для медицины, промышленности, embedded-систем.
- Например, Alt SP Server для серверов с особыми требованиями.

**Alt K (Компьютерный класс):**
- Для школьных компьютерных классов.
- Упрощенный интерфейс, инструменты для администрирования сети.

**Как выбрать:**
- Для дома/офиса: Alt Workstation.
- Для сервера: Alt Server.
- Для школы: Alt Education.
- Если не уверены, начните с Alt Workstation — его можно донастроить под сервер.

Все дистрибутивы основаны на одном ядре, но различаются предустановленным ПО и настройками.

## Запись установочного носителя

После выбора и загрузки ISO-файла нужно записать его на USB-флешку или DVD. USB-флешка предпочтительнее, так как быстрее и удобнее.

### Выбор носителя

- **USB-флешка:** Рекомендуется 4 ГБ и более (USB 2.0 или 3.0). Быстрая загрузка.
- **DVD:** Для старых компьютеров без USB, но медленнее и менее надежно.
- **Виртуальный диск:** Для тестирования в виртуальной машине (VirtualBox) — просто укажите путь к ISO.

**Предупреждение:** Все данные на носителе будут стерты. Сделайте резервную копию, если нужно.

### Инструменты для записи

**В Windows:**
1. **Rufus (рекомендуется):** Бесплатная программа.
   - Скачайте с https://rufus.ie/.
   - Запустите, выберите USB-устройство.
   - Выберите ISO-файл.
   - Нажмите "Старт" — процесс займет 5-10 минут.

2. **Windows USB/DVD Download Tool:** Официальный от Microsoft, но менее удобный.

**В Linux:**
1. **dd (командная строка):**
   - Вставьте флешку, найдите ее устройство: `lsblk` (например, /dev/sdb).
   - Команда: `sudo dd if=путь/к/файлу.iso of=/dev/sdb bs=4M status=progress`
   - Подождите завершения (10-15 минут).

2. **Etcher:** Графическая программа, скачайте с https://www.balena.io/etcher/.
   - Выберите ISO, флешку, нажмите "Flash".

**В macOS:**
1. **Etcher:** Аналогично Linux.
2. **Командная строка:** `sudo dd if=путь/к/файлу.iso of=/dev/disk2 bs=1m` (найдите диск с `diskutil list`).

### Проверка носителя

После записи проверьте, что флешка загружается:
1. Вставьте в компьютер.
2. Перезагрузите и войдите в BIOS — убедитесь, что флешка видна в списке устройств.
3. Если не загружается, попробуйте другую флешку или перезапишите.

## Процесс ручной установки ОС «Альт»

Теперь перейдем к самому процессу установки. Он состоит из нескольких этапов. Установка занимает 20-60 минут в зависимости от оборудования.

### Загрузка с установочного носителя

1. Вставьте USB-флешку в компьютер.
2. Перезагрузите компьютер.
3. Во время загрузки войдите в BIOS/UEFI (как описано выше) и установите USB на первое место в Boot Order.
4. Сохраните и выйдите — компьютер загрузится с флешки.
5. Появится меню загрузчика (GRUB): выберите "Install Alt" или аналогичный пункт (обычно первый).
6. Если меню не появилось, проверьте порядок загрузки или попробуйте другой USB-порт.

**Возможные проблемы:**
- "No boot device found": Носитель не загружается — проверьте BIOS.
- Черный экран: Попробуйте другой USB или DVD.

### Выбор дистрибутива в установщике

После загрузки запустится установщик (Anaconda-подобный, но для Alt).

1. Выберите язык интерфейса: Рекомендуется русский.
2. Выберите дистрибутив: Если загружались с универсального ISO, выберите нужный (Workstation, Server и т.д.).
3. Нажмите "Далее".

Если вы загрузили конкретный ISO (например, Workstation), этот шаг пропускается.

### Настройка основных параметров

Установщик предложит настроить базовые параметры.

1. **Язык и раскладка клавиатуры:**
   - Язык: Русский.
   - Раскладка: Русская, английская (Alt+Shift для переключения).
   - Проверьте: Введите текст в поле для проверки.

2. **Дата и время:**
   - Часовой пояс: Выберите свой регион (например, Екатеринбург — Asia/Yekaterinburg).
   - Синхронизация: Включите NTP для автоматической синхронизации с интернетом.

3. **Настройка сети:**
   - Если есть интернет: Выберите "Автоматическая настройка (DHCP)" — система получит IP автоматически.
   - Ручная настройка: Введите IP, маску, шлюз, DNS (например, 192.168.1.100, 255.255.255.0, 192.168.1.1, 8.8.8.8).
   - Имя хоста: Установите уникальное имя компьютера (например, alt-workstation).
   - Прокси: Если в сети используется прокси, введите адрес.

**Совет:** Подключите Ethernet-кабель для надежности, если Wi-Fi нестабильный.

### Разметка дисков

Это один из самых важных шагов. Разметка определяет, как диск будет разделен на разделы.

**Основные понятия:**
- **MBR (Master Boot Record):** Старый стандарт для дисков до 2 ТБ. Поддерживает 4 первичных раздела.
- **GPT (GUID Partition Table):** Новый стандарт для больших дисков, поддерживает UEFI. Рекомендуется для современных ПК.
- **Разделы:** Логические области на диске.
  - / (root): Корневой раздел, основная система (минимум 10 ГБ, рекомендуем 20+ ГБ).
  - /boot: Для загрузчика (200-500 МБ, если отдельный).
  - swap: Виртуальная память (размер RAM или 2x RAM для гибернации).
  - /home: Для пользовательских данных (остальное место).

**Автоматическая разметка:**
- Установщик предложит автоматическую: Выберите диск, нажмите "Автоматически".
- Создает стандартные разделы: /, swap, /home.

**Ручная разметка (рекомендуется для обучения):**
1. Выберите диск (например, sda).
2. Создайте таблицу разделов: GPT для UEFI, MBR для Legacy.
3. Создайте разделы:
   - EFI (для UEFI): 512 МБ, FAT32, флаг esp.
   - /boot: 1 ГБ, ext4.
   - /: 20-50 ГБ, ext4 или Btrfs.
   - swap: 4-8 ГБ, swap.
   - /home: Остальное, ext4.
4. Назначьте точки монтирования: / для root, /home для home и т.д.

**Файловые системы:**
- ext4: Стандарт для Linux, надежный.
- Btrfs: Современная, с snapshots, но сложнее.
- XFS: Для больших файлов.

**Советы:**
- Не трогайте разделы с данными, если они есть.
- Оставьте место для будущих разделов.
- Для SSD: Включите TRIM в настройках.

### Выбор групп пакетов

Пакеты — это программы и компоненты системы.

1. Выберите группы:
   - **Рабочая станция:** Офис, интернет, мультимедиа.
   - **Сервер:** Веб-сервер, база данных, сетевые инструменты.
   - **Разработка:** Компиляторы, IDE.
   - **Образование:** Специальное ПО.
2. Отметьте нужные: Для новичков — все базовые + рабочая станция.
3. Размер установки: Увеличится от выбора, проверьте свободное место.

После выбора установщик покажет сводку: подтвердите и нажмите "Установить".

### Ход установки

- Установщик копирует файлы (10-30 минут).
- Создает загрузчик (GRUB).
- Настраивает систему.
- Появится сообщение "Установка завершена" — извлеките носитель и перезагрузите.

**Не прерывайте процесс:** Это может повредить диск.

## Начальная загрузка и вход в систему

После перезагрузки система загрузится впервые.

### Первый запуск

1. Компьютер загрузится с жесткого диска (GRUB выберет ОС «Альт»).
2. Если есть несколько ОС, появится меню GRUB — выберите Alt Linux.
3. Система загрузится, появится экран входа (для Workstation с GUI) или консоль (для Server).

### Создание учетных записей

При первом запуске (или в установщике) создаются пользователи.

- **Root (администратор):** Суперпользователь, имеет все права. Пароль устанавливается во время установки.
- **Обычный пользователь:** Для повседневной работы. Создайте аккаунт с вашим именем, установите пароль.

**В графическом интерфейсе (KDE/GNOME):**
1. Войдите как root (если нужно) или новый пользователь.
2. Откройте "Параметры системы" > "Пользователи" для добавления пользователей.

**В консоли:**
1. Войдите как root: `su -` или `sudo`.
2. Создайте пользователя: `useradd username`, установите пароль: `passwd username`.

### Вход в систему

- **Графический:** Введите имя пользователя и пароль на экране входа.
- **Консоль:** В текстовом режиме введите логин и пароль.

**Советы по паролям:**
- Минимум 8 символов, с буквами, цифрами, символами.
- Не используйте очевидные (123456, password).
- Запомните или запишите root-пароль — он нужен для администрирования.

Если вход не удался, проверьте раскладку клавиатуры или перезагрузите в recovery mode.

## Система после установки

После входа система готова к работе, но требуется базовая настройка для комфорта.

### Обзор интерфейса

**Для Alt Workstation (KDE):**
- Панель внизу: Меню (K), быстрый запуск программ.
- Рабочий стол: Папки, виджеты.
- Меню: Приложения > Система для инструментов администрирования.

**Для Server:** Преимущественно консоль, но можно установить GUI командой `apt-get install kde5` или `apt-get install gnome`.

### Базовая настройка

1. **Обновление системы:**
   - Откройте терминал (Konsole в KDE).
   - Команда: `sudo apt-get update` — обновляет список пакетов.
   - `sudo apt-get upgrade` — устанавливает обновления.
   - Перезагрузите после: `sudo reboot`.

2. **Установка дополнительного ПО:**
   - Для офис: `sudo apt-get install libreoffice`.
   - Для разработки: `sudo apt-get install gcc make`.
   - Графический менеджер пакетов: Synaptic (`sudo apt-get install synaptic`).

3. **Настройка сети:**
   - Если DHCP не сработал: Откройте "Параметры сети" в меню.
   - Ручная настройка: IP, DNS как в установщике.
   - Wi-Fi: Включите в настройках, выберите сеть, введите пароль.

4. **Локаль и язык:**
   - Установите русский язык: "Параметры системы" > "Регион и язык".
   - Добавьте русскую раскладку: В настройках клавиатуры.

5. **Время и дата:**
   - Синхронизируйте с NTP: В настройках времени включите автоматическую синхронизацию.

6. **Безопасность:**
   - Установите firewall: `sudo apt-get install ufw`, `sudo ufw enable`.
   - Отключите ненужные службы: `sudo systemctl disable service_name`.

**Проверка работоспособности:**
- Откройте браузер (Firefox), зайдите на сайт.
- Создайте файл в домашней папке.
- Проверьте диск: `df -h` в терминале.

Если что-то не работает, проверьте логи: `sudo journalctl -u service_name`.

## Особенности установки в UEFI-режиме

Современные компьютеры (с 2010-х) используют UEFI вместо старого BIOS. Это влияет на установку Linux.

### Что такое UEFI?

- **UEFI (Unified Extensible Firmware Interface):** Современный интерфейс между ОС и железом. Заменяет BIOS.
- **Secure Boot:** Функция UEFI, проверяет подпись загрузчика для безопасности. Может блокировать неподписанный Linux.
- **GPT:** Таблица разделов для больших дисков (до 9 ЗБ), требуется для UEFI.

**VS Legacy BIOS:**
- BIOS: Текстовый интерфейс, MBR, ограничения.
- UEFI: Графический, GPT, быстрее загрузка.

### Когда использовать UEFI?

- На всех новых ПК (Windows 8+ предустановлена в UEFI).
- Если диск >2 ТБ или нужен Secure Boot.

### Шаги установки в UEFI

1. **Проверка режима:**
   - В BIOS/UEFI посмотрите "UEFI Mode" — должен быть включен.
   - Если отключен, включите (CSM Disabled для чистого UEFI).

2. **Secure Boot:**
   - Для ОС «Альт» Secure Boot поддерживается (с p9+).
   - Если проблемы: Отключите в BIOS (Security > Secure Boot > Disabled).
   - Или установите в Setup Mode для добавления ключей.

3. **Разметка диска:**
   - Используйте GPT.
   - Создайте EFI-раздел: 512 МБ, FAT32, точка монтирования /boot/efi, флаг esp.
   - Без EFI раздела загрузка не сработает.

4. **Загрузчик:**
   - GRUB2 для UEFI устанавливается в EFI-раздел.
   - В BIOS добавьте Alt Linux в Boot Manager.

**Troubleshooting UEFI:**
- "No such partition" при загрузке: Проверьте EFI-раздел.
- Secure Boot блокирует: Отключите или добавьте ключи (сложно для новичков).
- Двойная загрузка с Windows: Windows в UEFI, Alt тоже — GRUB увидит оба.

Если UEFI вызывает проблемы, попробуйте Legacy режим (CSM Enabled), но это не рекомендуется для новых ПК.

## Заключение

Установка ОС «Альт» — это процесс, требующий внимания к деталям, но выполнимый для новичков. Мы рассмотрели подготовку, выбор дистрибутива, запись носителя, пошаговую установку, первый запуск и настройку. Особенности UEFI важны для современных систем.

Базовая настройка включает обновление, установку ПО и настройку сети. После этого система готова к использованию. В следующих лекциях мы углубимся в администрирование.

## Вопросы для самоконтроля

1. Какие минимальные требования к аппаратному обеспечению для установки ОС «Альт»?
2. Где можно скачать дистрибутивы ОС «Альт»?
3. В чем разница между Alt Workstation и Alt Server?
4. Как записать ISO на USB-флешку в Windows?
5. Какие основные шаги в процессе установки?
6. Что такое разметка дисков и зачем она нужна?
7. Как создать пользователя после установки?
8. Чем отличается установка в UEFI от Legacy BIOS?
9. Как обновить систему после установки?
10. Какие меры безопасности следует принять после установки?

## Литература

- Официальная документация ОС «Альт»: https://docs.altlinux.org/
- Руководство по установке: https://www.altlinux.org/Installation
- Форум ОС «Альт»: https://forum.altlinux.org/
- Wiki: https://www.altlinux.org/UEFI
